
function cs_para_set

global cs_para;

% para load;
cs_para.Mode = 'FDD';                       % FDD/TDD
cs_para.filter_method = 'DSP_HB';           % DSP_HB、1FIR_R32、4HB_1FIR
cs_para.iterNum = 4;                        % 迭代次数
cs_para.H_post_method = 'FILTER';               % 降噪方法，时域fft或频域滤波； TD、FD、FILTER
cs_para.inf_restr_che_source = 'SSS';      % PSS/SSS：重构干扰时使用的CHE源，从pss还是sss取得
cs_para.origin_data_reserve_flag = 1;      % 0： 降采样后的数据； 1：降采样并按照已检出小区进行频偏补偿后的数据。 由于频偏估计总有残留部分，设为1性能更好
cs_para.N_FFT = 64;
cs_para.Ratio = 2048/cs_para.N_FFT;
cs_para.pss_noise_method = 'ALL'            % ALL、PART  ， for theresold calc
cs_para.sss_noise_method = 'PART'           % ALL、PART  ， for theresold calc
cs_para.pss_freqoffset_comp_flag = 1;       %  
cs_para.pss_freqoffset_comp_method = 'DSP'; % 两种方法：DSP、SYS  
cs_para.TDdata_comb_flag = 0;
cs_para.split_xcorr_flag = 0;               % valid for pss
cs_para.pss_slidewindow_xcorr_flag = 10;     % slide window norm xcorr : 0/10/11。10为整体滑动，11为简化运算的按子帧滑动前后补0。
cs_para.pss_reliability_filter_flag = 0;     % pss 可靠峰判断过滤是否开启
cs_para.pss_reliability_1st_out1st_ratio = 2;    % 可靠性判断时，主峰与窗外次峰的比值，
cs_para.pss_reliability_1st_thresold_ratio = 4;  % 可靠性判断时，主峰与噪声的比值，相对于门限噪声的比值，即实际相对底噪为pss_relity_1st_thresold_ratio*pss_threshold倍
cs_para.pss_reliability_sss_timing_filter_flag = 0; % SSS timing 滤除不可靠的pss相关峰。 位置考虑64/65/66.
cs_para.sss_xcorr_comb_sf05_flag = 1;       % not used
cs_para.sss_detec_halfframe = 0;            % 0: first half; 1: second half frame.     Note:SIC and M1 时 应设置为0，避免index超出。
cs_para.sss_xcorr_calc_method = 'm0m1';     % two method: '336full'、'm0m1'. 
cs_para.sss_xcorr_peak_select_num = 1;      % 保留1个或2个SSS相关峰值。   336full only set 1。  m0m1可设置为1或2.
cs_para.sss_xcorr_comb_flag = 1;            % cond: TDdata_comb_flag = 0;  comb 40 subframe
cs_para.sss_xcorr_comb_method = 'VECTOR';    % VECTOR、POWER 
cs_para.sss_equal_flag = 1;                 % 是否对sss进行信道补偿，采用pss进行che，然后补偿sss，che需降噪处理 
cs_para.sss_equal_pss_Hpost_method = 'FILTER';  % TD、FILTER;  filter 按文档频域滑动窗方式
cs_para.sss_equal_data_realize_flag = 0;    % equaled sss only extract real part from complex data;   
cs_para.pss_threshold = 8;                  %8;
cs_para.sss_threshold = 6;                  %6;
cs_para.pss_ICO_threshold = 10;
cs_para.sss_ICO_threshold = 10;
cs_para.sss_timing_threshold = 6;
cs_para.sss_timing_slide_flag = 0;
cs_para.sss_timing_slide_WL = 64;
cs_para.M1_RPRQ_flag = 1;                   % RSRP
cs_para.M1_method = 'DSP';                  % DSP  SYS
cs_para.unit_test_flag = 1;                 % 
cs_para.detPCI = [];


coee33 = open('Coee33.mat');                          
coee_33 = coee33.b;
clear coee33;

coee_65 = zeros(65,1);
%  coee_65(1:2:65,1)=coee_33;

coee_65 = zeros(65,1);
coee_65(32:34,1)=coee_33(16:18,1);
coee_65(30:-2:1,1)=coee_33(15:-1:1,1);
coee_65(36:2:65,1)=coee_33(19:33,1);

                                     %  设置为coee_65，HBF滤波器
cs_para.coee65 = coee_65;            % dsp_5_hb,  1-4 of 5stage

% 1stage,fir
% cs_para.coee160 = [5.60549149235100e-06;2.00698354487900e-05;4.82962237183000e-05;9.10738981671400e-05;0.000143637804525200;0.000212928389046800;0.000296014002454100;0.000397222418711000;0.000514798016991700;0.000638245792376700;0.000776649941991100;0.000920537057794300;0.00107338410981700;0.00123129672151100;0.00138076854503900;0.00153477535231200;0.00168366288515700;0.00183087167995200;0.00197423120165500;0.00209964185832300;0.00221007537466800;0.00229209420701500;0.00233658607177700;0.00234395154367600;0.00231088634030800;0.00223223149358100;0.00210835632960800;0.00192349438733700;0.00168723579816800;0.00141357071847900;0.00107938959584100;0.000700620577728400;0.000250946908403300;-0.000251498126650500;-0.000771534731807300;-0.00134184414292200;-0.00192473552265700;-0.00254298636610700;-0.00317299097568500;-0.00376846004123800;-0.00436270637143200;-0.00491078697852300;-0.00542158544076100;-0.00587799923671400;-0.00624297265593300;-0.00652718353415700;-0.00669767453047400;-0.00673243356338700;-0.00663387382247800;-0.00640315458481800;-0.00600767395899000;-0.00545457945811500;-0.00468580497759700;-0.00373379259070000;-0.00266245422856300;-0.00137785681804100;5.65728995999000e-05;0.00173085209382100;0.00358458025982300;0.00548061011589000;0.00757510244278200;0.00974880117056200;0.0121019159412200;0.0145629310693300;0.0169337991106600;0.0194171950728600;0.0218639217952100;0.0243538377338200;0.0268346414117300;0.0290803030675100;0.0313067765649900;0.0333762511689200;0.0353149442474000;0.0371229093600400;0.0385903019924800;0.0399068792955100;0.0409900625621800;0.0417903079350700;0.0423834235887000;0.0426155812770300;0.0426155812770300;0.0423834235887000;0.0417903079350700;0.0409900625621800;0.0399068792955100;0.0385903019924800;0.0371229093600400;0.0353149442474000;0.0333762511689200;0.0313067765649900;0.0290803030675100;0.0268346414117300;0.0243538377338200;0.0218639217952100;0.0194171950728600;0.0169337991106600;0.0145629310693300;0.0121019159412200;0.00974880117056200;0.00757510244278200;0.00548061011589000;0.00358458025982300;0.00173085209382100;5.65728995999000e-05;-0.00137785681804100;-0.00266245422856300;-0.00373379259070000;-0.00468580497759700;-0.00545457945811500;-0.00600767395899000;-0.00640315458481800;-0.00663387382247800;-0.00673243356338700;-0.00669767453047400;-0.00652718353415700;-0.00624297265593300;-0.00587799923671400;-0.00542158544076100;-0.00491078697852300;-0.00436270637143200;-0.00376846004123800;-0.00317299097568500;-0.00254298636610700;-0.00192473552265700;-0.00134184414292200;-0.000771534731807300;-0.000251498126650500;0.000250946908403300;0.000700620577728400;0.00107938959584100;0.00141357071847900;0.00168723579816800;0.00192349438733700;0.00210835632960800;0.00223223149358100;0.00231088634030800;0.00234395154367600;0.00233658607177700;0.00229209420701500;0.00221007537466800;0.00209964185832300;0.00197423120165500;0.00183087167995200;0.00168366288515700;0.00153477535231200;0.00138076854503900;0.00123129672151100;0.00107338410981700;0.000920537057794300;0.000776649941991100;0.000638245792376700;0.000514798016991700;0.000397222418711000;0.000296014002454100;0.000212928389046800;0.000143637804525200;9.10738981671400e-05;4.82962237183000e-05;2.00698354487900e-05;5.60549149235100e-06];
% load('coee737');
% cs_para.coee737 = coee737;
% 
% 
% % 5th of 5 stage,fir.    49 is good
% cs_para.coee49 = [0.00312600779878600;-0.0115158395220000;-0.0188579281650200;-0.00531668735990500;0.00978896532382900;0.000402748326729900;-0.0116736856350100;0.00208448862090800;0.0137439990795800;-0.00522552972984100;-0.0159985071651400;0.00945064394455300;0.0182610706537000;-0.0152703733274000;-0.0204264916090800;0.0234864088337000;0.0223788702729200;-0.0357592439154000;-0.0240118026322300;0.0564548249198400;0.0252373525411700;-0.101666988260900;-0.0260003603190800;0.316813098520800;0.526258451047900;0.316813098520800;-0.0260003603190800;-0.101666988260900;0.0252373525411700;0.0564548249198400;-0.0240118026322300;-0.0357592439154000;0.0223788702729200;0.0234864088337000;-0.0204264916090800;-0.0152703733274000;0.0182610706537000;0.00945064394455300;-0.0159985071651400;-0.00522552972984100;0.0137439990795800;0.00208448862090800;-0.0116736856350100;0.000402748326729900;0.00978896532382900;-0.00531668735990500;-0.0188579281650200;-0.0115158395220000;0.00312600779878600];
% cs_para.coee35 = [-0.00975405479866000;-0.0198955056012700;-0.00154839848305400;0.0130628813516000;-0.00770712345999100;-0.0109252387444300;0.0185655955683400;0.00112474379336100;-0.0263778647414900;0.0178648874167500;0.0242555811924900;-0.0444827819002300;-0.00193724945500200;0.0725879464397000;-0.0588606782485600;-0.0942015042793400;0.301076208950500;0.602292753725400;0.301076208950500;-0.0942015042793400;-0.0588606782485600;0.0725879464397000;-0.00193724945500200;-0.0444827819002300;0.0242555811924900;0.0178648874167500;-0.0263778647414900;0.00112474379336100;0.0185655955683400;-0.0109252387444300;-0.00770712345999100;0.0130628813516000;-0.00154839848305400;-0.0198955056012700;-0.00975405479866000];
% load('coee51_haming');
% cs_para.coee51 = coee51; 




